# Vulkan Compatibility Investigation

## Objectives
- Understand why Windows systems without Vulkan support crash after Whispering v7.4.0.
- Compare our stack with Handy to identify existing mitigations.
- Outline minimal, low-risk changes to restore CPU-only compatibility while preserving future GPU acceleration options.

## Current Observations
- Latest GitHub issue (#840) reports `vulkan-1.dll` load failures on Windows CPU-only hardware starting with v7.5.x.
- `transcribe-rs` v0.1.0 pins `whisper-rs` with the `vulkan` feature on Windows and Linux, forcing the loader dependency even when GPU acceleration is unused.
- Handy currently depends on `transcribe-rs` v0.1.4 and still enables `vulkan`; their workflows install the Vulkan SDK on CI, suggesting similar exposure.

## Open Questions
1. Can we safely build Whispering without `whisper-rs` GPU features while keeping CPU inference intact?
2. Do we need a dual-build strategy (GPU + CPU) or runtime selection, and what is the minimal viable step to unblock users now?
3. What changes (if any) are required in our GitHub Actions release pipeline once we adjust the dependency?

## TODO
- [ ] Map every place in Whispering that assumes GPU-accelerated whisper-rs builds (Rust code, build.rs flags, feature checks).
- [ ] Review Handy’s handling of Vulkan in release assets to confirm whether they bundle loaders or simply rely on GPU-only builds.
- [ ] Draft change options (e.g. fork/patch transcribe-rs to disable Vulkan, introduce opt-in GPU builds) with pros/cons and recommended path.
- [ ] Identify necessary updates to Whispering’s CI/release workflows after the recommended fix (e.g. skip Vulkan SDK install).
- [ ] Summarize proposed implementation steps, risks, and follow-up tasks.

## Review
- Pending once investigation is complete.
